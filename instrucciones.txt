Hola,

A continuación se describen las instrucciones para realizar la carga y distribución de los datos registros en la base de datos normalizada.

El procedimiento debe realizarse en dos fases: una fase de carga inicial en una tabla cruda (RAW) y una fase posterior de distribución mediante consultas INSERT con SELECT hacia cada una de las tablas normalizadas.

FASE 1: Creación y carga de tabla RAW

1. Crear una tabla denominada, por ejemplo, “usuario_raw” que contenga todos los campos exactamente como vienen en el archivo original, sin aplicar normalización ni llaves foráneas.
2. La estructura de esta tabla debe reflejar fielmente las columnas del archivo fuente.
3. Realizar la carga completa de los datos registros directamente en esta tabla.
4. Verificar que la cantidad de registros cargados coincida exactamente con el total esperado.
5. Validar que no existan problemas de codificación, valores nulos inesperados o formatos incorrectos.

Esta tabla funcionará únicamente como fuente intermedia para poblar las tablas definitivas.

FASE 2: Inserciones hacia tablas normalizadas

Una vez cargada la tabla RAW, se debe comenzar el proceso de distribución de datos hacia cada tabla del modelo relacional.

El orden recomendado es el siguiente:

1. Tablas catálogo (dimensiones)
   Insertar primero los valores únicos en:
   - tipo_identificacion  
   - genero  
   - orientacion_sexual  
   - condicion_ocupacional  
   - nivel_educativo  
   - zona  
   - comuna  
   - barrio  
   - grupo_etnico  
   - tipo_discapacidad  
   - categoria  

   Estas inserciones deben hacerse utilizando consultas INSERT con SELECT DISTINCT desde la tabla RAW, evitando duplicados.

2. Tabla programa_orientacion  
   Insertar los programas existentes, relacionándolos correctamente con su categoría.

3. Tabla usuario  
   Insertar los usuarios utilizando INSERT con SELECT desde la tabla RAW, resolviendo previamente las llaves foráneas mediante subconsultas o joins contra las tablas catálogo ya pobladas.

4. Tablas puente
   - usuario_programa  
   - usuario_discapacidad  

   Estas deben poblarse mediante consultas que relacionen los identificadores ya generados en las tablas principales.

Consideraciones importantes:

- No se deben hacer inserts manuales registro por registro.
- Todo debe realizarse mediante consultas SQL que tomen los datos desde la tabla RAW.
- Validar conteos después de cada inserción.
- Verificar integridad referencial antes de continuar con la siguiente tabla.
- El proceso debe ser reproducible y ordenado.

Objetivo del procedimiento:

Mantener la trazabilidad del dato original, garantizar integridad referencial y asegurar que el modelo normalizado se alimente correctamente sin pérdida de información.

Este método permite mantener una arquitectura limpia, controlada y coherente con el modelo relacional diseñado.

Quedo atento a cualquier duda técnica durante el proceso.

el csv con todos los datos se encuentra en esta carpeta, primero necesito que me crees un .md con todos los scripts
